# Requirements Document

## Introduction

Веб-приложение "Разъяснитель документов" предназначено для автоматического анализа и упрощения сложных документов с использованием искусственного интеллекта. Система помогает пользователям быстро понимать суть договоров, медицинских заключений, технических документов и других сложных текстов, переводя их на простой язык и выделяя ключевые моменты.

## Glossary

- **System**: Веб-приложение "Разъяснитель документов"
- **User**: Зарегистрированный пользователь системы
- **Document**: Загруженный файл в формате PDF, DOCX или TXT
- **Analysis**: Результат обработки документа AI, включающий резюме, риски, обязательства и рекомендации
- **AI_Service**: Сервис искусственного интеллекта для анализа текста
- **Upload_Session**: Процесс загрузки и обработки одного документа

## Requirements

### Requirement 1

**User Story:** Как новый пользователь, я хочу быстро зарегистрироваться в системе, чтобы начать использовать сервис анализа документов

#### Acceptance Criteria

1. WHEN пользователь заполняет форму регистрации с валидным email и паролем, THE System SHALL создать новый аккаунт и отправить подтверждение на email
2. WHEN пользователь вводит уже существующий email, THE System SHALL отклонить регистрацию и показать соответствующее сообщение
3. WHEN пользователь вводит пароль короче 8 символов, THE System SHALL отклонить регистрацию и потребовать более сложный пароль
4. WHEN пользователь успешно регистрируется, THE System SHALL автоматически авторизовать его и перенаправить на главную страницу
5. WHERE пользователь выбирает регистрацию через Google OAuth, THE System SHALL создать аккаунт используя данные Google профиля

### Requirement 2

**User Story:** Как зарегистрированный пользователь, я хочу авторизоваться в системе, чтобы получить доступ к своим документам и функциям

#### Acceptance Criteria

1. WHEN пользователь вводит корректные email и пароль, THE System SHALL авторизовать пользователя и предоставить доступ к личному кабинету
2. WHEN пользователь вводит неверные учетные данные, THE System SHALL отклонить авторизацию и показать сообщение об ошибке
3. WHEN пользователь не активировал email после регистрации, THE System SHALL запретить вход и предложить повторную отправку письма активации
4. WHERE пользователь забыл пароль, THE System SHALL предоставить функцию восстановления через email
5. WHEN пользователь бездействует более 24 часов, THE System SHALL автоматически завершить сессию

### Requirement 3

**User Story:** Как пользователь, я хочу загрузить документ для анализа, чтобы получить его упрощенную версию и ключевые выводы

#### Acceptance Criteria

1. WHEN пользователь загружает файл в формате PDF, DOCX или TXT размером до 10 МБ, THE System SHALL принять файл и начать обработку
2. WHEN пользователь загружает файл неподдерживаемого формата, THE System SHALL отклонить загрузку и показать список поддерживаемых форматов
3. WHEN пользователь загружает файл размером более 10 МБ, THE System SHALL отклонить загрузку и сообщить о превышении лимита
4. WHEN файл успешно загружен, THE System SHALL извлечь текст из документа и сохранить его для анализа
5. WHEN извлечение текста завершено, THE System SHALL отправить текст в AI_Service для анализа

### Requirement 4

**User Story:** Как пользователь, я хочу получить понятный анализ моего документа, чтобы быстро понять его суть без чтения всего текста

#### Acceptance Criteria

1. WHEN AI_Service завершает анализ документа, THE System SHALL предоставить краткое резюме документа объемом 3-5 предложений
2. WHEN анализ включает выявленные риски, THE System SHALL отобразить их с указанием уровня критичности (низкий, средний, высокий)
3. WHEN анализ выявляет обязательства пользователя, THE System SHALL перечислить их с указанием сроков выполнения где применимо
4. WHEN анализ завершен, THE System SHALL создать чек-лист конкретных действий с приоритизацией (срочно, важно, опционально)
5. WHEN пользователь просматривает результаты, THE System SHALL выделить ключевые пункты документа в структурированном виде

### Requirement 5

**User Story:** Как пользователь, я хочу задавать вопросы по загруженному документу, чтобы получить разъяснения по непонятным моментам

#### Acceptance Criteria

1. WHEN пользователь вводит вопрос по документу, THE System SHALL отправить вопрос и контекст документа в AI_Service
2. WHEN AI_Service обрабатывает вопрос, THE System SHALL предоставить ответ в течение 10 секунд
3. WHEN пользователь задает вопрос не связанный с документом, THE System SHALL вежливо перенаправить фокус на содержание документа
4. WHEN пользователь задает повторный или уточняющий вопрос, THE System SHALL учитывать контекст предыдущих вопросов
5. WHEN чат-сессия длится более 1 часа без активности, THE System SHALL сохранить историю и предложить начать новую сессию

### Requirement 6

**User Story:** Как пользователь, я хочу видеть историю своих документов, чтобы вернуться к ранее проанализированным файлам

#### Acceptance Criteria

1. WHEN пользователь заходит в раздел истории, THE System SHALL отобразить список всех загруженных документов с датами и названиями
2. WHEN пользователь кликает на документ из истории, THE System SHALL показать сохраненные результаты анализа
3. WHEN пользователь ищет документ по названию, THE System SHALL фильтровать список по введенному запросу
4. WHERE пользователь имеет бесплатный тариф, THE System SHALL хранить историю документов в течение 7 дней
5. WHEN пользователь удаляет документ из истории, THE System SHALL безвозвратно удалить файл и результаты анализа

### Requirement 7

**User Story:** Как пользователь, я хочу экспортировать результаты анализа, чтобы поделиться ими с коллегами или сохранить для дальнейшего использования

#### Acceptance Criteria

1. WHEN пользователь выбирает экспорт результатов, THE System SHALL предоставить форматы PDF и DOCX
2. WHEN экспорт в PDF выбран, THE System SHALL создать документ с форматированными результатами анализа
3. WHEN экспорт в DOCX выбран, THE System SHALL создать редактируемый документ с результатами
4. WHEN экспорт включает оригинальный документ, THE System SHALL добавить исходный текст в приложение
5. WHERE пользователь имеет бесплатный тариф, THE System SHALL ограничить экспорт только текстовым форматом

### Requirement 8

**User Story:** Как пользователь, я хочу выбрать стиль объяснения документа, чтобы получить информацию в наиболее подходящей для меня форме

#### Acceptance Criteria

1. WHEN пользователь выбирает формальный стиль, THE System SHALL предоставить анализ с использованием профессиональной терминологии
2. WHEN пользователь выбирает дружелюбный стиль, THE System SHALL объяснить документ простым разговорным языком
3. WHEN пользователь выбирает экспертный стиль, THE System SHALL включить детальные профессиональные комментарии и ссылки на законодательство
4. WHEN пользователь меняет стиль после получения результатов, THE System SHALL пересчитать анализ в новом стиле
5. WHERE пользователь не выбрал стиль, THE System SHALL использовать дружелюбный стиль по умолчанию

### Requirement 9

**User Story:** Как владелец бизнеса, я хочу управлять своей подпиской, чтобы контролировать расходы и получать нужные функции

#### Acceptance Criteria

1. WHEN пользователь просматривает тарифы, THE System SHALL четко показать ограничения каждого плана и стоимость
2. WHEN пользователь выбирает платный тариф, THE System SHALL предоставить безопасную форму оплаты
3. WHEN платеж успешно обработан, THE System SHALL немедленно активировать новые возможности тарифа
4. WHEN пользователь отменяет подписку, THE System SHALL сохранить доступ до окончания оплаченного периода
5. WHEN подписка истекает, THE System SHALL автоматически перевести пользователя на бесплатный тариф

### Requirement 10

**User Story:** Как системный администратор, я хочу обеспечить безопасность и производительность системы, чтобы пользователи получали качественный сервис

#### Acceptance Criteria

1. WHEN пользователь загружает документ, THE System SHALL сканировать файл на наличие вредоносного содержимого
2. WHEN система обнаруживает подозрительную активность, THE System SHALL заблокировать аккаунт и уведомить администратора
3. WHEN нагрузка на сервер превышает 80%, THE System SHALL автоматически масштабировать ресурсы
4. WHEN происходит ошибка обработки, THE System SHALL записать детали в лог и уведомить службу мониторинга
5. WHEN пользователь запрашивает удаление данных, THE System SHALL полностью удалить всю персональную информацию в течение 30 дней